<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <button id="btn">停止</button>
    <div id="timeBox">时间倒计时</div>
</body>
</html>
<script>

    /*
      setTimeout(回调函数，等待时间)
      经过等待时间之后  执行回调函数 
      这个等待时间是以毫秒为单位的
    */
//  let timer = setTimeout(() => {
//         console.log(1111)
//  }, 5000);
//     clearTimeout(timer); //清除定时器

    //setInterval 于 setTimeout 的区别
    // setInterval 是不停的执行
    // let timer2 = setInterval(() => {
    //         console.log(2222)
    //     }, 1000);
    //     btn.onclick = function(){
    //         clearInterval(timer2)
    //     }
       

    //    setTimeout(() => {
    //       console.log(0);
           
    //    }, 1000);
    //    console.log(1);
       //异步代码只有在同步代码执行完毕之后才会执行
       /*
       Date 
       let now = new Date();//本机时间
       now.gettime(); 距离1970-1-1 00:00:00的毫秒数
       */


        // 倒计时 思路 
        // 要知道目标时间 和当前时间
        // 把两者的时间差 转成 时分秒
        // 一秒转一次
       

       //目标时间
       let target = new Date('2018-10-27 11:22:00').getTime();
    
        
        //获取当前时间并求出两者的时间差
        let time11 =setInterval(()=>{

            let now = new Date().getTime();
            let time = target - now;
            
                if(time<=0){
                    clearInterval(time11);
                    return;
                }

           let h = Math.floor(time / 3600000) //这是time中包含的整数个小时
           time = time - h * 3600000;
           let m = Math.floor(time/60000)
           time = time-m*60000;
           let s =Math.floor(time/1000);

        //    if(h<10);
        //    h = '0'+h;
        //    if(m<10){
        //        m='0'+m;
        //    }
        //     if (s < 10) {
        //         s = '0' + s;
        //     }


            // let str = `距离下课还有${h}时${m}分${s}秒` //es6写法
            let str = `距离下课还有${h<10 ? '0'+h :h}时${m<10 ? '0'+m :m}分${s<10 ? '0'+s :s}秒` //es6写法
            let str2 = '距离下课还有'+h+'时'+m+'分' + s + '秒'; //es5写法
            timeBox.innerHTML =str;

        //    console.log(str);
           
        },1000)


        //剩余时间
        
        
        //先把 time 中的整数个小时摘出来
        //再从剩余的事件中把整数个分钟摘出来
        //再从剩余时间中把整数个秒摘出来即可

        //1小时等于3600*1000=3600000毫秒
        
        
        //三元运算
        //条件 ？  条件成立的执行 ：条件不成立的执行




</script>